{
  "name": "oms-api",
  "version": "1.0.0",
  "description": "Microservice for Order Management",
  "main": "server.js",
  "type": "module",
  "scripts": {
    "// Docker": "",
    "docker:build": "docker image build . -t oms-api",
    "docker:run-dev": "docker-compose --env-file .env.dev up -d",
    "docker:run-stage": "env-cmd -f .env.stage cross-env-shell \"docker container run --rm -d --env-file .env.stage -p $PORT:$PORT --init --name dam-api-stage dam-api\"",
    "docker:run-prod": "env-cmd -f .env.prod cross-env-shell \"docker container run -d --env-file .env.prod -p $PORT:$PORT --init --name dam-api-prod dam-api\"",
    "docker:stop": "docker container stop dam-api-prod || docker container stop dam-api-stage",
    "// Sequelize migrations scripts for dev env": "",
    "migrate:dev:create-db": "env-cmd -f .env.dev npx sequelize db:create",
    "migrate:dev:drop-db": "env-cmd -f .env.dev npx sequelize db:drop",
    "migrate:dev:up": "env-cmd -f .env.dev npx sequelize db:migrate",
    "migrate:dev:status": "env-cmd -f .env.dev npx sequelize db:migrate:status",
    "migrate:dev:down": "env-cmd -f .env.dev npx sequelize db:migrate:undo",
    "// Sequelize migrations scripts for production (env is already set)": "",
    "migrate:create-db": "npx sequelize db:create",
    "migrate:drop-db": "npx sequelize db:drop",
    "migrate:up": "npx sequelize db:migrate",
    "migrate:status": "npx sequelize db:migrate:status",
    "migrate:down": "npx sequelize db:migrate:undo",
    "// Manual Process management": "",
    "start:prod:api": "npm run gen-locale && node server.js",
    "start:dev:api": "npm run gen-locale && env-cmd -f .env.dev nodemon server.js",
    "start:prod:consumers": "node consumers.js",
    "start:dev:consumers": "env-cmd -f .env.dev nodemon consumers.js",
    "start:emulate-prod:api": "env-cmd -f .env.prod nodemon server.js",
    "start:emulate-stage:api": "env-cmd -f .env.stage nodemon server.js",
    "start:emulate-prod:consumers": "env-cmd -f .env.prod nodemon server.js",
    "start:emulate-stage:consumers": "env-cmd -f .env.stage nodemon server.js",
    "// These commands are used to check dependencies": "",
    "check:deps": "npx -q depcheck --ignores=\"wait-on,env-cmd,concurrently,sequelize-cli,pg,mocha,npm-merge-driver-install\" --ignore-dirs=\"bin\" || exit 0",
    "check:cyclic-deps": "npx -q madge -c server.js",
    "// Testing": "",
    "test": "env-cmd -f .env.dev mocha -c --exit",
    "// Setup project automatically after first `npm install`": "",
    "postinstall": "",
    "// Global plugins repo": "",
    "update-global": "npm update fastify-global-plugins",
    "get-hash": "node node_modules/fastify-global-plugins/scripts/shortHash.js",
    "gen-locale": "node node_modules/fastify-global-plugins/scripts/generateEnLocale.js locales/ro.json"
  },
  "private": true,
  "engines": {
    "node": ">=14.15.0",
    "npm": ">=7.3.0"
  },
  "repository": {
    "type": "git",
    "url": "git+https://bitbucket.org/explorado/oms-api.git"
  },
  "author": "",
  "nodemonConfig": {
    "ignore": [
      "coverage/*",
      "locales/*",
      ".env*",
      ".gitignore",
      "*postman_collection.json",
      "Dockerfile",
      "docker-compose*",
      "README.MD",
      "scripts/*",
      ".eslintrc.json",
      "test/*",
      "db/migrations/*",
      "db/seeders/*",
      "db/config.js",
      "gcp*.json"
    ]
  },
  "homepage": "https://explorado.atlassian.net/wiki/spaces/EXP/pages/220987393/Explorado+Node.js+Team+Modules+Documentation",
  "dependencies": {
    "fastify": "^3.19.0",
    "fastify-autoload": "^3.7.0",
    "fastify-global-plugins": "bitbucket:explorado/fastify-global-plugins#semver:^0.21.1",
    "fastify-plugin": "^3.0.0",
    "fastify-swagger": "^4.7.0",
    "fluent-json-schema": "^3.0.0",
    "lodash": "^4.17.21",
    "pg": "^8.6.0",
    "sequelize-cli": "^6.2.0",
    "uuid": "^8.3.2"
  },
  "devDependencies": {
    "chai": "^4.3.4",
    "concurrently": "^6.0.2",
    "cross-env": "^7.0.3",
    "env-cmd": "^10.1.0",
    "eslint": "^7.28.0",
    "eslint-config-airbnb-base": "^14.2.1",
    "eslint-plugin-import": "^2.23.4",
    "fastify-explorer": "^1.0.0",
    "frisby": "^2.1.3",
    "mocha": "^9.0.3",
    "nodemon": "^2.0.7",
    "npm-merge-driver-install": "^2.0.1"
  }
}
